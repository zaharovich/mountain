# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ Store Locator

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ server.js**
**–ü—Ä–æ–±–ª–µ–º–∞:** –í —Ñ—É–Ω–∫—Ü–∏–∏ `checkIPLocationLimit` (—Å—Ç—Ä–æ–∫–∞ 64) –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `lat1` –≤–º–µ—Å—Ç–æ `latitude`.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```javascript
// –ë—ã–ª–æ:
const distance = calculateDistance(lat1, longitude, loc.latitude, loc.longitude);

// –°—Ç–∞–ª–æ:
const distance = calculateDistance(latitude, longitude, loc.latitude, loc.longitude);
```

**–§–∞–π–ª:** `server.js`, —Å—Ç—Ä–æ–∫–∞ 64

---

### 2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –≤ assets/tt.json**
**–ü—Ä–æ–±–ª–µ–º–∞:** –§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∞–ª —Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞–≥–ª—É—à–∫—É `"U2FtcGxlRW5jcnlwdGVkRGF0YQ=="`, –∞ –Ω–µ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç `generate-encrypted-data.js` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ JSON
- –î–∞–Ω–Ω—ã–µ –∏–∑ `test-data.js` –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã —Å –ø–æ–º–æ—â—å—é XOR + Base64
- –§–∞–π–ª `assets/tt.json` –æ–±–Ω–æ–≤–ª—ë–Ω —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ `/api/tt.json` —Å–µ—Ä–≤–µ—Ä –æ—Ç–¥–∞—ë—Ç –≤–∞–ª–∏–¥–Ω—ã–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –º–æ–∂–µ—Ç —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å.

---

### 3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ API**
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ

–í `js/dataManager.js` URL —É–∂–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω:
```javascript
this.API_URL = 'http://localhost:3000/api/tt.json';
```

---

### 4. **Endpoint –¥–ª—è –æ—Ç–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö**
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω

–í `server.js` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç endpoint:
```javascript
app.get('/api/tt.json', (req, res) => {
    const filePath = path.join(__dirname, 'assets', 'tt.json');
    res.sendFile(filePath);
});
```

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–∫–ª—é—á–∞—é—Ç:
- **5 –º–∞–≥–∞–∑–∏–Ω–æ–≤** —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ (–•–∞—Ä—å–∫–æ–≤)
- **3 –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤:** –ì–æ—Ä—ñ—à–∫–∏ (130), –ú–æ—Ä–æ–∑–∏–≤–æ –≤–µ–≥–∞–Ω (174), –ü—Ä—è–Ω–µ—Å–ø–µ—á–µ–Ω—è (182)
- –í—Å–µ –º–∞–≥–∞–∑–∏–Ω—ã –∏–º–µ—é—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ Google Maps URL
- –î–∞—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ "—Å–≤–µ–∂–∏–µ", –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞—Ä—à–µ 2 –Ω–µ–¥–µ–ª—å)

---

## üîê –ü—Ä–æ—Ü–µ—Å—Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

### –°—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã:
```
TEST_DATA (–æ–±—ä–µ–∫—Ç JS) 
    ‚Üì JSON.stringify()
JSON —Å—Ç—Ä–æ–∫–∞
    ‚Üì XOR —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ (–∫–ª—é—á: 'store-locator-secret-2025')
–ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞
    ‚Üì Base64 –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
–§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏
```

### –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ:
```
Base64 —Å—Ç—Ä–æ–∫–∞ –∏–∑ API
    ‚Üì Base64 –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
–ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞
    ‚Üì XOR —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ (—Ç–æ—Ç –∂–µ –∫–ª—é—á)
JSON —Å—Ç—Ä–æ–∫–∞
    ‚Üì JSON.parse()
–û–±—ä–µ–∫—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
```bash
npm install express cors dotenv
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
```bash
node server.js
```

### 3. –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
```
http://localhost:3000
```

---

## üß™ –ö–∞–∫ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:

### 1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `generate-encrypted-data.js`
–ò–∑–º–µ–Ω–∏—Ç–µ –æ–±—ä–µ–∫—Ç `TEST_DATA` –ø–æ –≤–∞—à–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º.

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
```bash
node generate-encrypted-data.js
```

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—É—â–∏–π —Å–µ—Ä–≤–µ—Ä (Ctrl+C)
node server.js
```

---

## üìã –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### Frontend (index.html + JS –º–æ–¥—É–ª–∏)
- **crypto.js** - –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ/—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ (XOR + Base64)
- **dataManager.js** - –ó–∞–≥—Ä—É–∑–∫–∞, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **geolocation.js** - –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è, –ø–æ–∏—Å–∫ –º–∞–≥–∞–∑–∏–Ω–æ–≤, rate limiting
- **app.js** - –ì–ª–∞–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (UI, –∫–∞—Ä—Ç–∞, —Ñ–∏–ª—å—Ç—Ä—ã)

### Backend (server.js)
- Express —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 3000
- –û—Ç–¥–∞—ë—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (HTML, CSS, JS)
- API endpoint `/api/tt.json` –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤
- Rate limiting –ø–æ IP (3 –∑–∞–ø—Ä–æ—Å–∞ / 1–∫–º / 24—á)

### –î–∞–Ω–Ω—ã–µ
- **assets/tt.json** - –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω–æ–≤
- **test-data.js** - –ù–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- **generate-encrypted-data.js** - –°–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üîç –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
–§–∞–π–ª—ã `map.js`, `filters.js`, `utils.js` —Å—É—â–µ—Å—Ç–≤—É—é—Ç, –Ω–æ –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –≤ `index.html` –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ `app.js`. 

**–í–∞—Ä–∏–∞–Ω—Ç—ã:**
- –£–¥–∞–ª–∏—Ç—å —ç—Ç–∏ —Ñ–∞–π–ª—ã (–≤—Å—è –ª–æ–≥–∏–∫–∞ —É–∂–µ –≤ `app.js`)
- –ò–ª–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å `app.js` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–∏—Ö –º–æ–¥—É–ª–µ–π

### 2. CSS —Ñ–∞–π–ª
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ `css/styles.css` - –æ–Ω –ø–æ–¥–∫–ª—é—á–µ–Ω –≤ HTML, –Ω–æ –Ω–µ –±—ã–ª –ø—Ä–æ–≤–µ—Ä–µ–Ω.

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–°–æ–∑–¥–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è:
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è/—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏
- –ü–∞—Ä—Å–∏–Ω–≥–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- –ü–æ–∏—Å–∫–∞ –º–∞–≥–∞–∑–∏–Ω–æ–≤ –≤ —Ä–∞–¥–∏—É—Å–µ
- Rate limiting

---

## ‚ú® –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å

‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –æ—Ç–¥–∞—ë—Ç HTML  
‚úÖ Endpoint `/api/tt.json` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ  
‚úÖ –î–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã –∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã  
‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç  
‚úÖ Rate limiting –ø–æ IP –Ω–∞—Å—Ç—Ä–æ–µ–Ω  
‚úÖ –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞  

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Console)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–≤–æ–¥ —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–æ—Ä—Ç 3000 –Ω–µ –∑–∞–Ω—è—Ç –¥—Ä—É–≥–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

---

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:** 15 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞:** ‚úÖ –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
